<template>
  <header class="s-header">
    <div class="l-default s-header__wrapper">
      <div class="s-header__top">
        <div class="s-header__logo">
          <a-logo-short v-if="width <= 767" />
          <a-logo-full v-else />
        </div>
        <a v-if="width <= 991" href="mailto:info@sglobaltrade.com" class="s-header__mail f-m-medium">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M8.98824 17.6186C7.80022 17.6186 6.68368 17.393 5.63861 16.942C4.59368 16.4908 3.68177 15.8758 2.90287 15.097C2.12411 14.3181 1.50913 13.4049 1.05793 12.3572C0.606876 11.3095 0.381348 10.1901 0.381348 8.99893C0.381348 7.80776 0.606876 6.68868 1.05793 5.6417C1.50913 4.59471 2.12411 3.68177 2.90287 2.90287C3.68177 2.12411 4.59505 1.50913 5.64272 1.05793C6.69039 0.606876 7.80981 0.381348 9.00098 0.381348C10.1922 0.381348 11.3112 0.606876 12.3582 1.05793C13.4052 1.50913 14.3181 2.12411 15.097 2.90287C15.8758 3.68177 16.4908 4.59368 16.942 5.63861C17.393 6.68368 17.6186 7.80022 17.6186 8.98824V10.1806C17.6186 11.0408 17.31 11.7735 16.693 12.3786C16.0758 12.9835 15.3281 13.286 14.4499 13.286C13.9449 13.286 13.4689 13.1793 13.0218 12.9659C12.5746 12.7527 12.2071 12.4387 11.9193 12.0239C11.5528 12.4524 11.1156 12.7698 10.6076 12.9762C10.0996 13.1828 9.56368 13.286 8.99996 13.286C7.8081 13.286 6.79579 12.8696 5.96303 12.0369C5.13026 11.2041 4.71388 10.1918 4.71388 8.99996C4.71388 7.8081 5.13026 6.79579 5.96303 5.96303C6.79579 5.13026 7.8081 4.71388 8.99996 4.71388C10.1918 4.71388 11.2041 5.13026 12.0369 5.96303C12.8696 6.79579 13.286 7.8081 13.286 8.99996V10.0877C13.286 10.4246 13.3986 10.7097 13.6238 10.943C13.8491 11.1761 14.1282 11.2927 14.4612 11.2927C14.7941 11.2927 15.0694 11.1761 15.287 10.943C15.5048 10.7097 15.6137 10.4246 15.6137 10.0877V8.98824C15.6137 7.15166 14.9705 5.59222 13.6842 4.3099C12.398 3.02745 10.8365 2.38623 8.99996 2.38623C7.16338 2.38623 5.60195 3.02937 4.31566 4.31566C3.02937 5.60195 2.38623 7.16338 2.38623 8.99996C2.38623 10.8365 3.02745 12.398 4.3099 13.6842C5.59222 14.9705 7.15324 15.6137 8.99297 15.6137H13.1117V17.6186H8.98824ZM9.00201 11.2927C9.63947 11.2927 10.1806 11.0696 10.6253 10.6235C11.0702 10.1772 11.2927 9.63536 11.2927 8.9979C11.2927 8.36044 11.0696 7.81934 10.6235 7.37459C10.1772 6.9297 9.63536 6.70725 8.9979 6.70725C8.36044 6.70725 7.81934 6.93031 7.37459 7.37644C6.9297 7.8227 6.70725 8.36456 6.70725 9.00201C6.70725 9.63947 6.93031 10.1806 7.37644 10.6253C7.8227 11.0702 8.36456 11.2927 9.00201 11.2927Z"
              fill="#1C1C1C"
            />
          </svg>
        </a>
      </div>

      <div class="s-header__menu">
        <swiper v-if="swiperConfig" v-bind="swiperConfig">
          <swiper-slide v-for="(item, index) in menu" :key="index" class="s-header__menu-item">
            <nuxt-link class="s-header__menu-item-link f-m-medium" @click="moveTo(item.target)">
              {{ item.text }}
            </nuxt-link>
          </swiper-slide>
        </swiper>
        <a href="mailto:info@sglobaltrade.com" class="s-header__mail s-header__mail-desktop f-m-medium">
          <svg
            v-if="width <= 1199"
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.98824 17.6186C7.80022 17.6186 6.68368 17.393 5.63861 16.942C4.59368 16.4908 3.68177 15.8758 2.90287 15.097C2.12411 14.3181 1.50913 13.4049 1.05793 12.3572C0.606876 11.3095 0.381348 10.1901 0.381348 8.99893C0.381348 7.80776 0.606876 6.68868 1.05793 5.6417C1.50913 4.59471 2.12411 3.68177 2.90287 2.90287C3.68177 2.12411 4.59505 1.50913 5.64272 1.05793C6.69039 0.606876 7.80981 0.381348 9.00098 0.381348C10.1922 0.381348 11.3112 0.606876 12.3582 1.05793C13.4052 1.50913 14.3181 2.12411 15.097 2.90287C15.8758 3.68177 16.4908 4.59368 16.942 5.63861C17.393 6.68368 17.6186 7.80022 17.6186 8.98824V10.1806C17.6186 11.0408 17.31 11.7735 16.693 12.3786C16.0758 12.9835 15.3281 13.286 14.4499 13.286C13.9449 13.286 13.4689 13.1793 13.0218 12.9659C12.5746 12.7527 12.2071 12.4387 11.9193 12.0239C11.5528 12.4524 11.1156 12.7698 10.6076 12.9762C10.0996 13.1828 9.56368 13.286 8.99996 13.286C7.8081 13.286 6.79579 12.8696 5.96303 12.0369C5.13026 11.2041 4.71388 10.1918 4.71388 8.99996C4.71388 7.8081 5.13026 6.79579 5.96303 5.96303C6.79579 5.13026 7.8081 4.71388 8.99996 4.71388C10.1918 4.71388 11.2041 5.13026 12.0369 5.96303C12.8696 6.79579 13.286 7.8081 13.286 8.99996V10.0877C13.286 10.4246 13.3986 10.7097 13.6238 10.943C13.8491 11.1761 14.1282 11.2927 14.4612 11.2927C14.7941 11.2927 15.0694 11.1761 15.287 10.943C15.5048 10.7097 15.6137 10.4246 15.6137 10.0877V8.98824C15.6137 7.15166 14.9705 5.59222 13.6842 4.3099C12.398 3.02745 10.8365 2.38623 8.99996 2.38623C7.16338 2.38623 5.60195 3.02937 4.31566 4.31566C3.02937 5.60195 2.38623 7.16338 2.38623 8.99996C2.38623 10.8365 3.02745 12.398 4.3099 13.6842C5.59222 14.9705 7.15324 15.6137 8.99297 15.6137H13.1117V17.6186H8.98824ZM9.00201 11.2927C9.63947 11.2927 10.1806 11.0696 10.6253 10.6235C11.0702 10.1772 11.2927 9.63536 11.2927 8.9979C11.2927 8.36044 11.0696 7.81934 10.6235 7.37459C10.1772 6.9297 9.63536 6.70725 8.9979 6.70725C8.36044 6.70725 7.81934 6.93031 7.37459 7.37644C6.9297 7.8227 6.70725 8.36456 6.70725 9.00201C6.70725 9.63947 6.93031 10.1806 7.37644 10.6253C7.8227 11.0702 8.36456 11.2927 9.00201 11.2927Z"
              fill="#1C1C1C"
            />
          </svg>
          <span v-else>info@sglobaltrade.com</span>
        </a>
      </div>
    </div>
  </header>
</template>

<script setup>
import { useWindowSize } from '@vueuse/core';
import '/composables/moveTo';

defineProps({
  menu: {
    type: Array,
    default: () => [],
  },
});

const { width } = useWindowSize();

// const date = new Date();

const swiperConfig = reactive({
  slidesPerView: 'auto',
  spaceBetween: 4,
  resistance: true,
  resistanceRation: 0,
  grabCursor: true,
  breakpoints: {
    992: {
      spaceBetween: 8,
      allowTouchMove: false,
    },
  },
});

const route = useRoute();

// const openMain = (target) => {
//   if (route.path == '/') {
//     moveTo(target);
//   } else {
//     localStorage.setItem('target', target);
//     navigateTo({
//       path: '/',
//     });
//   }
// };
</script>

<style lang="scss">
@import './s-header.scss';
</style>
